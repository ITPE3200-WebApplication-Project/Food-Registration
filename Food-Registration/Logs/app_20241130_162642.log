2024-11-30 16:26:43.030 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "type" = 'table' AND "rootpage" IS NOT NULL;
2024-11-30 16:26:43.132 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Producers" AS "p"
2024-11-30 16:26:43.136 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Products" AS "p"
2024-11-30 16:26:43.173 +01:00 [INF] User profile is available. Using '/Users/magnus/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-11-30 16:26:43.239 +01:00 [INF] Now listening on: http://localhost:5173
2024-11-30 16:26:43.241 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2024-11-30 16:26:43.241 +01:00 [INF] Hosting environment: Development
2024-11-30 16:26:43.241 +01:00 [INF] Content root path: /Users/magnus/Desktop/Food-Registration/Food-Registration
2024-11-30 16:26:46.897 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5173/Producer/Table - null null
2024-11-30 16:26:46.927 +01:00 [INF] Executing endpoint 'Food_Registration.Controllers.ProducerController.Table (Food-Registration)'
2024-11-30 16:26:46.935 +01:00 [INF] Route matched with {action = "Table", controller = "Producer", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Table() on controller Food_Registration.Controllers.ProducerController (Food-Registration).
2024-11-30 16:26:46.964 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."ProducerId", "p"."Description", "p"."ImageUrl", "p"."Name", "p"."OwnerId"
FROM "Producers" AS "p"
2024-11-30 16:26:46.986 +01:00 [INF] Executing ViewResult, running view Table.
2024-11-30 16:26:47.016 +01:00 [INF] Executed ViewResult - view Table executed in 30.4491ms.
2024-11-30 16:26:47.017 +01:00 [INF] Executed action Food_Registration.Controllers.ProducerController.Table (Food-Registration) in 81.5551ms
2024-11-30 16:26:47.017 +01:00 [INF] Executed endpoint 'Food_Registration.Controllers.ProducerController.Table (Food-Registration)'
2024-11-30 16:26:47.019 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5173/Producer/Table - 200 null text/html; charset=utf-8 123.956ms
2024-11-30 16:26:47.043 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5173/css/_Layout.css - null null
2024-11-30 16:26:47.047 +01:00 [INF] The file /css/_Layout.css was not modified
2024-11-30 16:26:47.048 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5173/css/_Layout.css - 304 null text/css 4.9697ms
2024-11-30 16:26:49.386 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5173/Producer/Delete - application/x-www-form-urlencoded 230
2024-11-30 16:26:49.405 +01:00 [INF] Executing endpoint 'Food_Registration.Controllers.ProducerController.Delete (Food-Registration)'
2024-11-30 16:26:49.414 +01:00 [INF] Route matched with {action = "Delete", controller = "Producer", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller Food_Registration.Controllers.ProducerController (Food-Registration).
2024-11-30 16:26:49.477 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."ProducerId", "p"."Description", "p"."ImageUrl", "p"."Name", "p"."OwnerId"
FROM "Producers" AS "p"
WHERE "p"."ProducerId" = @__id_0
LIMIT 1
2024-11-30 16:26:49.483 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__producerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Products" AS "p"
    WHERE "p"."ProducerId" = @__producerId_0)
2024-11-30 16:26:49.483 +01:00 [INF] Executing RedirectResult, redirecting to /Producer/Table?message=Cannot%20delete%20producer%20that%20has%20associated%20products.%20Please%20delete%20all%20products%20first.&messageType=warning.
2024-11-30 16:26:49.483 +01:00 [INF] Executed action Food_Registration.Controllers.ProducerController.Delete (Food-Registration) in 69.0176ms
2024-11-30 16:26:49.483 +01:00 [INF] Executed endpoint 'Food_Registration.Controllers.ProducerController.Delete (Food-Registration)'
2024-11-30 16:26:49.484 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5173/Producer/Delete - 302 0 null 97.5007ms
2024-11-30 16:26:49.488 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5173/Producer/Table?message=Cannot%20delete%20producer%20that%20has%20associated%20products.%20Please%20delete%20all%20products%20first.&messageType=warning - null null
2024-11-30 16:26:49.489 +01:00 [INF] Executing endpoint 'Food_Registration.Controllers.ProducerController.Table (Food-Registration)'
2024-11-30 16:26:49.489 +01:00 [INF] Route matched with {action = "Table", controller = "Producer", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Table() on controller Food_Registration.Controllers.ProducerController (Food-Registration).
2024-11-30 16:26:49.490 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."ProducerId", "p"."Description", "p"."ImageUrl", "p"."Name", "p"."OwnerId"
FROM "Producers" AS "p"
2024-11-30 16:26:49.490 +01:00 [INF] Executing ViewResult, running view Table.
2024-11-30 16:26:49.501 +01:00 [INF] Executed ViewResult - view Table executed in 10.9022ms.
2024-11-30 16:26:49.501 +01:00 [INF] Executed action Food_Registration.Controllers.ProducerController.Table (Food-Registration) in 12.4315ms
2024-11-30 16:26:49.501 +01:00 [INF] Executed endpoint 'Food_Registration.Controllers.ProducerController.Table (Food-Registration)'
2024-11-30 16:26:49.502 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5173/Producer/Table?message=Cannot%20delete%20producer%20that%20has%20associated%20products.%20Please%20delete%20all%20products%20first.&messageType=warning - 200 null text/html; charset=utf-8 13.6632ms
2024-11-30 16:26:53.472 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5173/Product/Table - null null
2024-11-30 16:26:53.473 +01:00 [INF] Executing endpoint 'Food_Registration.Controllers.ProductController.Table (Food-Registration)'
2024-11-30 16:26:53.477 +01:00 [INF] Route matched with {action = "Table", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Table() on controller Food_Registration.Controllers.ProductController (Food-Registration).
2024-11-30 16:26:53.481 +01:00 [INF] [ProductController] Current user: fafa@fasas.com
2024-11-30 16:26:53.481 +01:00 [INF] Getting all products for the user
2024-11-30 16:26:53.525 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."ProductId", "p"."Calories", "p"."Carbohydrates", "p"."Category", "p"."Description", "p"."Fat", "p"."ImageUrl", "p"."Name", "p"."NutritionScore", "p"."ProducerId", "p"."Protein", "p0"."ProducerId", "p0"."Description", "p0"."ImageUrl", "p0"."Name", "p0"."OwnerId"
FROM "Products" AS "p"
INNER JOIN "Producers" AS "p0" ON "p"."ProducerId" = "p0"."ProducerId"
2024-11-30 16:26:53.547 +01:00 [INF] [ProductController] Total products found: 16
2024-11-30 16:26:53.547 +01:00 [INF] [ProductController] Filtered products for user: 1
2024-11-30 16:26:53.548 +01:00 [INF] Executing ViewResult, running view Table.
2024-11-30 16:26:53.552 +01:00 [INF] Executed ViewResult - view Table executed in 4.8557ms.
2024-11-30 16:26:53.552 +01:00 [INF] Executed action Food_Registration.Controllers.ProductController.Table (Food-Registration) in 74.8677ms
2024-11-30 16:26:53.552 +01:00 [INF] Executed endpoint 'Food_Registration.Controllers.ProductController.Table (Food-Registration)'
2024-11-30 16:26:53.552 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5173/Product/Table - 200 null text/html; charset=utf-8 80.34ms
2024-11-30 16:26:56.121 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5173/Product/Delete - application/x-www-form-urlencoded 231
2024-11-30 16:26:56.124 +01:00 [INF] Executing endpoint 'Food_Registration.Controllers.ProductController.Delete (Food-Registration)'
2024-11-30 16:26:56.128 +01:00 [INF] Route matched with {action = "Delete", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller Food_Registration.Controllers.ProductController (Food-Registration).
2024-11-30 16:26:56.141 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."ProductId", "p"."Calories", "p"."Carbohydrates", "p"."Category", "p"."Description", "p"."Fat", "p"."ImageUrl", "p"."Name", "p"."NutritionScore", "p"."ProducerId", "p"."Protein", "p0"."ProducerId", "p0"."Description", "p0"."ImageUrl", "p0"."Name", "p0"."OwnerId"
FROM "Products" AS "p"
INNER JOIN "Producers" AS "p0" ON "p"."ProducerId" = "p0"."ProducerId"
WHERE "p"."ProductId" = @__id_0
LIMIT 1
2024-11-30 16:26:56.146 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."ProducerId", "p"."Description", "p"."ImageUrl", "p"."Name", "p"."OwnerId"
FROM "Producers" AS "p"
WHERE "p"."ProducerId" = @__id_0
LIMIT 1
2024-11-30 16:26:56.152 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."ProductId", "p"."Calories", "p"."Carbohydrates", "p"."Category", "p"."Description", "p"."Fat", "p"."ImageUrl", "p"."Name", "p"."NutritionScore", "p"."ProducerId", "p"."Protein"
FROM "Products" AS "p"
WHERE "p"."ProductId" = @__id_0
LIMIT 1
2024-11-30 16:26:56.206 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Products"
WHERE "ProductId" = @p0
RETURNING 1;
2024-11-30 16:26:56.212 +01:00 [INF] Executing RedirectResult, redirecting to /Product/Table.
2024-11-30 16:26:56.212 +01:00 [INF] Executed action Food_Registration.Controllers.ProductController.Delete (Food-Registration) in 83.7657ms
2024-11-30 16:26:56.212 +01:00 [INF] Executed endpoint 'Food_Registration.Controllers.ProductController.Delete (Food-Registration)'
2024-11-30 16:26:56.212 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5173/Product/Delete - 302 0 null 90.6764ms
2024-11-30 16:26:56.216 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5173/Product/Table - null null
2024-11-30 16:26:56.216 +01:00 [INF] Executing endpoint 'Food_Registration.Controllers.ProductController.Table (Food-Registration)'
2024-11-30 16:26:56.216 +01:00 [INF] Route matched with {action = "Table", controller = "Product", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Table() on controller Food_Registration.Controllers.ProductController (Food-Registration).
2024-11-30 16:26:56.216 +01:00 [INF] [ProductController] Current user: fafa@fasas.com
2024-11-30 16:26:56.216 +01:00 [INF] Getting all products for the user
2024-11-30 16:26:56.217 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."ProductId", "p"."Calories", "p"."Carbohydrates", "p"."Category", "p"."Description", "p"."Fat", "p"."ImageUrl", "p"."Name", "p"."NutritionScore", "p"."ProducerId", "p"."Protein", "p0"."ProducerId", "p0"."Description", "p0"."ImageUrl", "p0"."Name", "p0"."OwnerId"
FROM "Products" AS "p"
INNER JOIN "Producers" AS "p0" ON "p"."ProducerId" = "p0"."ProducerId"
2024-11-30 16:26:56.217 +01:00 [INF] [ProductController] Total products found: 15
2024-11-30 16:26:56.217 +01:00 [INF] [ProductController] Filtered products for user: 0
2024-11-30 16:26:56.217 +01:00 [INF] Executing ViewResult, running view Table.
2024-11-30 16:26:56.218 +01:00 [INF] Executed ViewResult - view Table executed in 0.9407ms.
2024-11-30 16:26:56.218 +01:00 [INF] Executed action Food_Registration.Controllers.ProductController.Table (Food-Registration) in 2.0623ms
2024-11-30 16:26:56.218 +01:00 [INF] Executed endpoint 'Food_Registration.Controllers.ProductController.Table (Food-Registration)'
2024-11-30 16:26:56.218 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5173/Product/Table - 200 null text/html; charset=utf-8 2.629ms
2024-11-30 16:29:12.441 +01:00 [INF] Application is shutting down...
